<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LDCE Central Library - Student Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f8fafc;
      color: #1f2937;
    }
    .section-card {
      background: white;
      border-radius: 1rem;
      padding: 2rem;
      box-shadow: 0 2px 10px rgba(0,0,0,0.08);
      margin-top: 2rem;
    }
    .nav-link:hover { color: #facc15; }
  </style>
</head>

<body class="flex flex-col min-h-screen">

  <!-- Header -->
  <header class="bg-gray-800 text-white sticky top-0 z-50 shadow-lg">
    <div class="container mx-auto flex justify-between items-center px-6 py-4">
      <div class="flex items-center space-x-3">
        <i class="fas fa-book-reader text-3xl text-yellow-400"></i>
        <h1 class="text-2xl font-bold">LDCE Central Library</h1>
      </div>

      <nav class="hidden md:flex space-x-6">
        <a href="#home" class="nav-link">Home</a>
        <a href="#new-arrivals" class="nav-link">New Arrivals</a>
        <a href="#faqs" class="nav-link">FAQs</a>
        <a href="#reserve" class="bg-yellow-400 text-gray-900 px-4 py-2 rounded-full font-bold hover:bg-yellow-500 transition">Reserve Book</a>
        <a href="{{ url_for('admin_dashboard') }}" class="nav-link text-sm text-gray-300 hover:text-yellow-400">Staff Login</a>
      </nav>

      <button id="menu-button" class="md:hidden text-white">
        <i class="fas fa-bars text-2xl"></i>
      </button>
    </div>

    <div id="mobile-menu" class="hidden md:hidden bg-gray-700">
      <a href="#home" class="block py-2 px-4 hover:bg-gray-600">Home</a>
      <a href="#new-arrivals" class="block py-2 px-4 hover:bg-gray-600">New Arrivals</a>
      <a href="#faqs" class="block py-2 px-4 hover:bg-gray-600">FAQs</a>
      <a href="#reserve" class="block py-2 px-4 hover:bg-gray-600 text-yellow-400 font-bold">Reserve Book</a>
      <a href="{{ url_for('admin_dashboard') }}" class="block py-2 px-4 hover:bg-gray-600">Staff Login</a>
    </div>
  </header>

  <!-- Hero Section -->
  <section id="home" class="container mx-auto text-center mt-10">
    {% if announcement_message %}
    <div class="bg-yellow-100 text-yellow-800 p-3 rounded-lg font-semibold mb-4">
      ğŸ“¢ Announcement: {{ announcement_message }}
    </div>
    {% endif %}
    <h2 class="text-4xl font-bold text-gray-800 mb-4">Welcome to LDCE Central Library</h2>
    <p class="text-gray-600 max-w-2xl mx-auto">
      Explore thousands of books, digital resources, and more. Stay informed about new arrivals, timings, and announcements.
    </p>
  </section>

  <!-- Search -->
  <section id="search" class="container mx-auto section-card">
    <h3 class="text-2xl font-semibold mb-4">ğŸ” Search Books</h3>
    <form action="{{ url_for('search') }}" method="GET" class="flex flex-col sm:flex-row gap-3">
      <input type="text" name="query" placeholder="Search by title, author, or ISBN..."
             class="border rounded px-4 py-2 flex-1 focus:ring focus:ring-yellow-400" required>
      <button type="submit" class="bg-yellow-400 hover:bg-yellow-500 px-6 py-2 rounded font-bold text-gray-900 transition">Search</button>
    </form>
  </section>

  <!-- New Arrivals -->
  <section id="new-arrivals" class="container mx-auto section-card">
    <h3 class="text-2xl font-semibold mb-4">ğŸ“š New Arrivals</h3>
    {% if new_arrivals %}
    <div class="grid md:grid-cols-3 gap-4">
      {% for book in new_arrivals %}
      <div class="border rounded-lg p-4 hover:shadow-md transition">
        <h4 class="font-bold text-lg">{{ book.title }}</h4>
        <p class="text-sm text-gray-600">ğŸ‘¤ {{ book.author }}</p>
        <p class="text-sm text-gray-500">ISBN: {{ book.isbn }}</p>
        <p class="text-xs text-gray-400 mt-2">Arrived: {{ book.arrival_date }}</p>
      </div>
      {% endfor %}
    </div>
    {% else %}
    <p class="text-gray-500">No new books found.</p>
    {% endif %}
  </section>

  <!-- Timings -->
  <section id="timings" class="container mx-auto section-card">
    <h3 class="text-2xl font-semibold mb-4">ğŸ•’ Library Timings</h3>
    <ul class="text-gray-700 space-y-2">
      {% for day, time in timings.items() %}
      <li><strong>{{ day }}:</strong> {{ time }}</li>
      {% endfor %}
    </ul>
  </section>

  <!-- FAQs -->
  <section id="faqs" class="container mx-auto section-card">
    <h3 class="text-2xl font-semibold mb-4">â“ Frequently Asked Questions</h3>
    {% if faqs %}
    <ul class="space-y-3">
      {% for faq in faqs %}
      <li class="border-b pb-2">
        <strong>{{ faq.question }}</strong><br>
        <span class="text-gray-600">{{ faq.answer }}</span>
      </li>
      {% endfor %}
    </ul>
    {% else %}
    <p class="text-gray-500">No FAQs available at the moment.</p>
    {% endif %}
  </section>

  <!-- Reserve Form -->
  <section id="reserve" class="container mx-auto section-card mb-10">
    <h3 class="text-2xl font-semibold mb-4">ğŸ“– Reserve a Book</h3>
    <form method="POST" action="{{ url_for('reserve_book') }}" class="grid gap-3 md:grid-cols-2">
      <input type="text" name="student_name" placeholder="Your Name" class="border rounded px-4 py-2" required>
      <input type="text" name="student_id" placeholder="Student ID" class="border rounded px-4 py-2" required>
      <input type="text" name="title" placeholder="Book Title" class="border rounded px-4 py-2 md:col-span-2" required>
      <button type="submit" class="bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold py-2 rounded md:col-span-2 transition">Reserve Now</button>
    </form>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-800 text-gray-300 py-6 text-center mt-auto">
    <p>Â© {{ current_year }} LDCE Central Library | Developed for Hackathon ğŸš€</p>
  </footer>

  <script>
    document.getElementById('menu-button').addEventListener('click', function() {
      document.getElementById('mobile-menu').classList.toggle('hidden');
    });
  </script>
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</body>
</html>
